# 🧪 车行审核功能测试指南

## 当前系统状态

### 车行列表
| 车行名称 | 车行代码 | 状态 | 联系人 | 联系电话 |
|---------|---------|------|--------|---------|
| 易驰汽车 | yichi | ✅ active（正常运营） | 吴韩 | 18288950738 |
| 好淘车 | befgsh | ⏳ pending（待审核） | 张三 | 13888987654 |
| 好淘车 | benedg | ⏳ pending（待审核） | 张三 | 13888987654 |

### 用户账号
| 用户名 | 角色 | 所属车行 | 说明 |
|--------|------|---------|------|
| 吴韩 | super_admin | 易驰汽车 | 超级管理员，可以审核车行 |

---

## 🎯 测试场景一：超级管理员审核车行

### 步骤1：登录超级管理员账号

1. 访问登录页面：http://localhost:5173/login
2. 输入账号信息：
   - 用户名：`吴韩`
   - 密码：您设置的密码
3. 点击"登录"按钮
4. **预期结果**：成功登录，进入系统首页

### 步骤2：进入车行管理页面

1. 在左侧导航栏找到"车行管理"菜单项
2. 点击进入车行管理页面
3. **预期结果**：
   - 看到四个标签页：待审核、正常运营、已停用、已拒绝
   - "待审核"标签显示红色徽章：`🔴 2`（表示有2个待审核车行）
   - 默认显示"待审核"标签页

### 步骤3：查看待审核车行详情

1. 在"待审核"标签页，找到"好淘车（befgsh）"
2. 点击"查看"按钮（眼睛图标）
3. **预期结果**：弹出详情对话框，显示：
   - 车行名称：好淘车
   - 车行代码：befgsh
   - 联系人：张三
   - 联系电话：13888987654
   - 所在地区：浙江省 衢州市
   - 营业执照图片（如果有上传）
   - 状态：待审核
   - 申请时间

### 步骤4：审核通过

1. 关闭详情对话框
2. 点击"通过"按钮（绿色，带 ✓ 图标）
3. **预期结果**：
   - 显示成功提示："车行审核通过"
   - 车行从"待审核"标签页消失
   - 切换到"正常运营"标签页，可以看到"好淘车（befgsh）"
   - "待审核"徽章数字变为 `🔴 1`

### 步骤5：审核拒绝

1. 切换回"待审核"标签页
2. 找到"好淘车（benedg）"
3. 点击"拒绝"按钮（红色，带 ✗ 图标）
4. **预期结果**：弹出拒绝对话框
5. 在"拒绝原因"输入框中填写：`营业执照信息不清晰，请重新上传高清图片`
6. 点击"确认拒绝"按钮
7. **预期结果**：
   - 显示成功提示："已拒绝车行注册申请"
   - 车行从"待审核"标签页消失
   - 切换到"已拒绝"标签页，可以看到"好淘车（benedg）"
   - "待审核"徽章消失（没有待审核车行了）

### 步骤6：查看已拒绝车行详情

1. 在"已拒绝"标签页，找到"好淘车（benedg）"
2. 点击"查看"按钮
3. **预期结果**：详情对话框显示：
   - 状态：审核拒绝（红色徽章）
   - 拒绝原因：营业执照信息不清晰，请重新上传高清图片
   - 审核时间

---

## 🎯 测试场景二：待审核车行尝试登录

### 步骤1：登出超级管理员

1. 点击右上角用户菜单
2. 点击"退出登录"
3. **预期结果**：返回登录页面

### 步骤2：尝试以待审核车行管理员登录

**注意**：由于我们刚才审核通过了 befgsh，现在只有 benedg 是待审核状态。但 benedg 的管理员账号可能还没创建。

让我先检查一下是否有待审核车行的管理员账号：

---

## 🎯 测试场景三：已审核通过车行登录

### 步骤1：以审核通过的车行管理员登录

1. 访问登录页面：http://localhost:5173/login
2. 输入账号信息：
   - 用户名：`吴韩`（易驰汽车的管理员）
   - 密码：您的密码
3. 点击"登录"按钮
4. **预期结果**：
   - ✅ 成功登录
   - 进入系统首页
   - 可以正常使用所有功能

---

## 🎯 测试场景四：停用和启用车行

### 步骤1：停用车行

1. 以超级管理员登录
2. 进入"车行管理"页面
3. 切换到"正常运营"标签页
4. 找到"好淘车（befgsh）"
5. 点击红色电源图标（停用按钮）
6. **预期结果**：
   - 显示成功提示："车行已停用"
   - 车行从"正常运营"标签页消失
   - 切换到"已停用"标签页，可以看到"好淘车（befgsh）"

### 步骤2：测试停用车行无法登录

1. 登出超级管理员
2. 尝试以"好淘车（befgsh）"的管理员账号登录
3. **预期结果**：
   - ❌ 登录失败
   - 显示错误提示："您的车行已被停用，请联系管理员"

### 步骤3：重新启用车行

1. 以超级管理员登录
2. 进入"车行管理"页面
3. 切换到"已停用"标签页
4. 找到"好淘车（befgsh）"
5. 点击绿色电源图标（启用按钮）
6. **预期结果**：
   - 显示成功提示："车行已启用"
   - 车行从"已停用"标签页消失
   - 切换到"正常运营"标签页，可以看到"好淘车（befgsh）"

---

## 🎯 测试场景五：编辑车行信息

### 步骤1：编辑车行

1. 以超级管理员登录
2. 进入"车行管理"页面
3. 在"正常运营"标签页，找到任意车行
4. 点击"编辑"按钮（铅笔图标）
5. **预期结果**：弹出编辑对话框，显示当前车行信息
6. 修改联系人或联系电话
7. 点击"保存"按钮
8. **预期结果**：
   - 显示成功提示："车行信息已更新"
   - 列表中的信息已更新

---

## ✅ 测试检查清单

### 审核功能
- [ ] 待审核标签显示红色徽章和数量
- [ ] 可以查看车行详细信息（包括营业执照）
- [ ] 可以一键审核通过
- [ ] 可以填写原因拒绝申请
- [ ] 审核后车行自动移至对应标签页
- [ ] 审核信息正确记录（时间、审核人）

### 登录限制
- [ ] pending 状态车行无法登录，提示"正在审核中"
- [ ] rejected 状态车行无法登录，提示"已被拒绝"
- [ ] inactive 状态车行无法登录，提示"已被停用"
- [ ] active 状态车行可以正常登录
- [ ] 超级管理员始终可以登录

### 车行管理
- [ ] 可以停用正常运营的车行
- [ ] 可以启用已停用的车行
- [ ] 可以编辑车行信息（车行代码不可改）
- [ ] 可以查看所有状态车行的详情

### 界面显示
- [ ] 四个标签页正确显示
- [ ] 待审核徽章正确显示数量
- [ ] 状态徽章颜色正确（绿色/灰色/红色）
- [ ] 营业执照图片正确显示
- [ ] 拒绝原因正确显示

---

## 🐛 已知问题

无

---

## 📝 测试结果记录

### 测试日期：2026-01-14

| 测试场景 | 测试结果 | 备注 |
|---------|---------|------|
| 超级管理员审核车行 | ⏳ 待测试 | |
| 待审核车行尝试登录 | ⏳ 待测试 | |
| 已审核通过车行登录 | ⏳ 待测试 | |
| 停用和启用车行 | ⏳ 待测试 | |
| 编辑车行信息 | ⏳ 待测试 | |

---

## 💡 测试建议

1. **按顺序测试**：建议按照测试场景的顺序进行测试
2. **记录结果**：每完成一个测试场景，在上表中记录结果
3. **截图保存**：关键步骤建议截图保存，便于问题追溯
4. **多次测试**：重要功能建议测试多次，确保稳定性

---

**祝测试顺利！** 🎉
